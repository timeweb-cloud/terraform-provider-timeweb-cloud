---
page_title: "twc_k8s_cluster Resource - Timeweb Cloud"
subcategory: ""
description: |-
  Resource for describing needed K8S cluster and provides actual information about its status
---

# twc_k8s_cluster (Resource)

Resource for describing needed K8S cluster and provides actual information about its status

## Примеры использования

```terraform
# Select any preset for master node with 4 CPUs
data "twc_k8s_preset" "example-k8s-preset-master" {
  cpu = 4
  type = "master"
}

# Create example cluster with selected preset
resource "twc_k8s_cluster" "example-k8s-cluster" {
  name = "example-cluster"
  description = "some example cluster"

  high_availability = false
  version = "v1.22.17"
  network_driver = "flannel"
  ingress = true

  preset_id = data.twc_k8s_preset.example-k8s-preset-master.id
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name for K8S cluster
- `network_driver` (String) Network driver for K8S cluster [may be retrieved from API](https://api.timeweb.cloud/api/v1/k8s/network_drivers)
- `version` (String) K8S version [may be retrieved from API](https://api.timeweb.cloud/api/v1/k8s/k8s_versions). If your version is outdated, we will take the latest patch of provided version! You need to check your version after cluster installation!

### Optional

- `configuration` (Block List, Max: 1) Configuration for master nodes (see [below for nested schema](#nestedblock--configuration))
- `description` (String) Description for K8S cluster
- `high_availability` (Boolean) High Availability for K8S cluster
- `ingress` (Boolean) Add ingress for K8S cluster
- `maintenance_slot` (Block List) Maintenance window for cluster (see [below for nested schema](#nestedblock--maintenance_slot))
- `network_id` (String) ID of VPC for K8S cluster
- `oidc_provider` (Block List) OIDC provider settings for cluster (see [below for nested schema](#nestedblock--oidc_provider))
- `preset_id` (Number) Preset ID for nodes in group
- `project_id` (Number) Project ID for K8S cluster

### Read-Only

- `cpu` (Number) Sum of CPU count of all worker nodes
- `disk` (Number) Sum of disks volume of worker nodes
- `id` (String) The ID of this resource.
- `kubeconfig` (String, Sensitive) K8S cluster kubeconfig
- `ram` (Number) Sum of RAM count of all worker nodes
- `status` (String) Current status of K8S cluster (`installing`, `provisioning`, `active`, `unpaid`, `started`, `not_installed`, `failed`, `unpaid_not_installed`, `deletion`)

<a id="nestedblock--configuration"></a>
### Nested Schema for `configuration`

Required:

- `configurator_id` (Number) Configurator ID for creating nodes
- `cpu` (Number) CPU count for node group
- `disk` (Number) Disk node group size
- `ram` (Number) RAM node group worker size


<a id="nestedblock--maintenance_slot"></a>
### Nested Schema for `maintenance_slot`

Required:

- `type` (String) Maintenance slot type

Optional:

- `from` (String) May start from this time (HH:MM format)
- `to` (String) May end to this time (HH:MM). Notice: The actual duration depends on the number of nodes in the cluster.


<a id="nestedblock--oidc_provider"></a>
### Nested Schema for `oidc_provider`

Required:

- `client_id` (String) Unique identifier by authentication server
- `issuer_url` (String) OIDC Provider URL
- `name` (String) Name for OIDC provider setting

Optional:

- `groups_claim` (String)
- `username_claim` (String) Name of the field in the ID token that the OIDC authentication system uses as the username

Read-Only:

- `status` (String)

