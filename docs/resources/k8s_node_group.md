---
page_title: "twc_k8s_node_group Resource - Timeweb Cloud"
subcategory: ""
description: |-
  Resource for describing needed node group in K8S cluster
---

# twc_k8s_node_group (Resource)

Resource for describing needed node group in K8S cluster

## Примеры использования

```terraform
# Select any preset for master node with 4 CPUs
data "twc_k8s_preset" "example-k8s-preset-master" {
  cpu = 4
  type = "master"
}

# Create example cluster with selected preset
resource "twc_k8s_cluster" "example-k8s-cluster" {
  name = "example-cluster"
  description = "some example cluster"

  high_availability = false
  version = "v1.22.17"
  network_driver = "flannel"
  ingress = true

  preset_id = data.twc_k8s_preset.example-k8s-preset-master.id
}

# Select any preset for nodes in group with 2 CPUs
data "twc_k8s_preset" "example-k8s-preset-worker" {
  cpu = 2
  type = "worker"
}

# Create example node group preset in previously created cluster and selected preset with 2 nodes
resource "twc_k8s_node_group" "example-k8s-node-group" {
  cluster_id = resource.twc_k8s_cluster.example-k8s-cluster.id
  name = "example-k8s-node-group"

  preset_id = data.twc_k8s_preset.example-k8s-preset-worker.id

  node_count = 2
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cluster_id` (Number) K8S cluster ID for which node group should be created
- `name` (String) K8S node group name
- `node_count` (Number) Count of nodes in group

### Optional

- `configuration` (Block List, Max: 1) Configuration node group workers (see [below for nested schema](#nestedblock--configuration))
- `is_autoscaling` (Boolean) Automatic increase/decrease of the number of nodes in a group depending on the load
- `labels` (Block List) K8S node group labels (see [below for nested schema](#nestedblock--labels))
- `max_size` (Number) max count of nodes in group
- `min_size` (Number) min count of nodes in group
- `preset_id` (Number) Preset ID for nodes in group
- `taints` (Block List) K8S node group taints (see [below for nested schema](#nestedblock--taints))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--configuration"></a>
### Nested Schema for `configuration`

Required:

- `configurator_id` (Number) Configurator ID for creating group node workers
- `cpu` (Number) CPU count for node group
- `disk` (Number) Disk node group size
- `ram` (Number) RAM node group worker size

Optional:

- `gpu` (Number) GPU count for node group


<a id="nestedblock--labels"></a>
### Nested Schema for `labels`

Required:

- `key` (String) K8S node group label key
- `value` (String) K8S node group label value


<a id="nestedblock--taints"></a>
### Nested Schema for `taints`

Required:

- `effect` (String) K8S node group taint effect
- `key` (String) K8S node group taint key
- `value` (String) K8S node group taint value

