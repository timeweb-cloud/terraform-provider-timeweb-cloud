---
page_title: "twc_server Resource - Timeweb Cloud"
subcategory: ""
description: |-
  Resource for describing needed server and provides actual information about its status
---

# twc_server (Resource)

Resource for describing needed server and provides actual information about its status

## Примеры использования

```terraform
### Example server with configurator

data "twc_configurator" "example-configurator" {
  location = "ru-1"
}

data "twc_os" "example-os" {
  name = "ubuntu"
  version = "22.04"
}

resource "twc_server" "example-server" {
  name = "Example server"
  os_id = data.twc_os.example-os.id

  configuration {
    configurator_id = data.twc_configurator.example-configurator.id
    disk = 1024 * 10
    cpu = 1
    ram = 1024
  }
}

### Example server with project

data "twc_projects" "example-project" {
  name = "Example"
}

resource "twc_server" "example-server" {
  name = "Example server with project"
  os_id = data.twc_os.example-os.id

  configuration {
    configurator_id = data.twc_configurator.example-configurator.id
    disk = 1024 * 10
    cpu = 1
    ram = 1024
  }

  project_id = data.twc_projects.example-project.id
}

### Example server by cloning

resource "twc_server" "cloned-server-example" {
  name = "Example of cloned server"
  source_server_id = twc_server.example-server.id

  configuration {
    configurator_id = data.twc_configurator.example-configurator.id
    disk = 1024 * 5 * 4
    cpu = 1
    ram = 1024
  }
}

### Example server with preset

data "twc_presets" "example-preset" {
  price_filter {
    from = 300
    to = 400
  }
}

resource "twc_server" "example-server-with-preset" {
  name = "Example server with preset"
  os_id = data.twc_os.example-os.id

  preset_id = data.twc_presets.example-preset.id
}

### Example server with software

data "twc_software" "example-software" {
  name = "Docker"

  os {
    family = "linux"
    name = "ubuntu"
    version = "22.04"
  }
}

resource "twc_server" "server-with-software" {
  name = "Example server with software"
  preset_id = data.twc_presets.example-preset.id

  os_id = data.twc_software.example-software.os[0].id
  software_id = data.twc_software.example-software.id
}

### Example servers with VPC network

data "twc_presets" "example-preset" {
  price_filter {
    from = 300
    to = 400
  }
}

resource "twc_vpc" "example-vpc" {
  name = "Example VPC"
  description = "Some example VPC"
  subnet_v4 = "192.168.0.0/24"
  location = "ru-1"
}

# With VPC network
resource "twc_server" "example-server-with-local-network" {
  name = "Example server with local network"
  os_id = data.twc_os.example-os.id

  preset_id = data.twc_presets.example-preset.id

  local_network {
    id = twc_vpc.example-vpc.id
  }
}

# With VPC network and specified ID IP
resource "twc_server" "example-server-with-local-network-and-address" {
  name = "Example server with local network and address"
  os_id = data.twc_os.example-os.id

  preset_id = data.twc_presets.example-preset.id

  local_network {
    id = twc_vpc.example-vpc.id
    ip = "192.168.0.15"
  }
}
```
<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name for server

### Optional

- `availability_zone` (String) Availability zone for server
- `bandwidth` (Number) Bandwidth for server
- `cloud_init` (String) Cloud-init script. If script requires external network you should use floating_ip_id field instead of twc_floating_ip.resource
- `comment` (String) Comment for server
- `configuration` (Block List, Max: 1) Configuration for server (see [below for nested schema](#nestedblock--configuration))
- `floating_ip_id` (String) Floating IP ID for server
- `image_id` (String) Image ID for servers (not supported for cloned servers)
- `is_root_password_required` (Boolean) Is root password required for server
- `local_network` (Block List, Max: 1) Flag that enables local network for created server (not supported for cloned servers) (see [below for nested schema](#nestedblock--local_network))
- `os_id` (Number) OS ID for server (not supported for cloned servers)
- `preset_id` (Number) Preset ID for server (conflicts with configuration)
- `project_id` (Number) Project ID for created server
- `software_id` (Number) Software ID for server (not supported for cloned servers)
- `source_server_id` (Number) Server ID for which clone should be created
- `ssh_keys_ids` (Set of Number) List of SSH keys IDs for server

### Read-Only

- `avatar_id` (String) Identifier of avatar
- `boot_mode` (String) Boot mode of server (`std`, `single`, `cd`)
- `configurator_id` (Number) Configurator identifier
- `cpu` (Number) Current CPUs count of server
- `cpu_frequency` (String) Current CPU frequency of server
- `disks` (List of Object) Current server disks representation (see [below for nested schema](#nestedatt--disks))
- `id` (String) The ID of this resource.
- `is_ddos_guard` (Boolean) Flag that shows status of DDoS guard service
- `location` (String) Location for the server (`ru-1`, `ru-2`, `pl-1`, `kz-1`)
- `main_ipv4` (String) Main IPv4 address from public interface
- `networks` (List of Object) (see [below for nested schema](#nestedatt--networks))
- `os` (List of Object) Information about specified OS (see [below for nested schema](#nestedatt--os))
- `ram` (Number) Current RAM size of server
- `root_pass` (String, Sensitive) Root password for server
- `software` (List of Object) Information about specified software (if software_id was set) (see [below for nested schema](#nestedatt--software))
- `start_at` (String) Last boot time (in ISO8601 format)
- `status` (String) Current status of server (`installing`, `software_install`, `reinstalling`, `on`, `off`, `turning_on`, `turning_off`, `hard_turning_off`, `rebooting`, `hard_rebooting`, `removing`, `removed`, `cloning`, `transfer`, `blocked`, `configuring`, `no_paid`, `permanent_blocked`)
- `vnc_pass` (String, Sensitive) VNC password for server

<a id="nestedblock--configuration"></a>
### Nested Schema for `configuration`

Required:

- `configurator_id` (Number) Configurator ID for created server
- `cpu` (Number) CPU count for created server
- `disk` (Number) Disk size for created server
- `ram` (Number) RAM size for created server (must be divisible by 1024 and corresponds OS, software and configurator requirements)

Optional:

- `gpu` (Number) GPU count for created server


<a id="nestedblock--local_network"></a>
### Nested Schema for `local_network`

Optional:

- `id` (String) ID of VPC for assign address from
- `ip` (String) Address in VPC subnetwork for manual assign
- `mode` (String) NAT mode for created servers (`dnat_and_snat` - egress and ingress traffic allowed, `snat` - only egress traffic allowed, `no_nat` - only local network traffic allowed)


<a id="nestedatt--disks"></a>
### Nested Schema for `disks`

Read-Only:

- `id` (Number)
- `is_mounted` (Boolean)
- `is_system` (Boolean)
- `size` (Number)
- `status` (String)
- `system_name` (String)
- `type` (String)
- `used` (Number)


<a id="nestedatt--networks"></a>
### Nested Schema for `networks`

Read-Only:

- `bandwidth` (Number)
- `ips` (List of Object) (see [below for nested schema](#nestedobjatt--networks--ips))
- `is_ddos_guard` (Boolean)
- `nat_mode` (String)
- `type` (String)

<a id="nestedobjatt--networks--ips"></a>
### Nested Schema for `networks.ips`

Read-Only:

- `ip` (String)
- `is_main` (Boolean)
- `ptr` (String)
- `type` (String)



<a id="nestedatt--os"></a>
### Nested Schema for `os`

Read-Only:

- `id` (Number)
- `name` (String)
- `version` (String)


<a id="nestedatt--software"></a>
### Nested Schema for `software`

Read-Only:

- `id` (Number)
- `name` (String)

## Import

Import is supported using the following syntax:

```shell
# Server can be imported by specifying the numeric identifier (from URL)
terraform import twc_server.example 42
```